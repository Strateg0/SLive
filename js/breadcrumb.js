const translations = {
    en: {
     'home': 'Начало',
      'sectors': 'Сектори',
      'aboutUs': 'За нас',
      'offer': 'Какво предлагаме',
      'new': 'Новости',
      'blog': 'Блог',
      'contact': 'Контакт',
      'structural_reform': 'Оценка на организационния модел на централната администрация на изпълнителната власт',
      'NAMRB': 'Примерни модели за административни структури на седем групи общини и проекти на документи за организационното им развитие',
      'consulting_services': 'Подобряване на ефективността и оптимизиране на структурата на администрацията на Министерството на външните работи',
      'organizational': 'Организационна оценка и планиране на подобрения',
      'analyze': 'Консолидиран анализ на организационното състояние на Министерство на отбраната',
      'actual_standarts': 'Актуализирани стандарти за провеждане на граждански консултации',
      'nfk': 'Анализ и оценка на въздействието на действащото законодателство за НФК',
      'impact_assessment': 'Цялостна предварителна оценка на въздействието във връзка с регулиране на основни икономически сектори',
      'preliminary': 'Цялостна предварителна оценка на въздействието във връзка с регулиране на основни икономически сектори',
      'org_model': 'Нов организационен модел на НСОРБ',
      'functional_analyze': 'Функционални анализи',
      'action_plan': 'План за оценка на програма за морско дело, рибарство и аквакултури',
      'elec_networks': 'Социалноикономически анализ и обобщен доклад с резултати от проект „Опазване на застрашени видове птици чрез обезопасяване на опасни за тях въздушни електропроводи в защитени зони от НАТУРА 2000 в Западна България/ LIFE BIRDS ON POWER LINES“',
      'strategic': 'Последваща оценка за изпълнението на Националната стратегия за регионално развитие за периода 2012-2022 г.',
    },
    es: {
     'home': 'Начало',
      'sectors': 'Сектори',
      'aboutUs': 'За нас',
      'offer': 'Какво предлагаме',
      'new': 'Новости',
      'blog': 'Блог',
      'contact': 'Контакт',
      'structural_reform': 'Оценка на организационния модел на централната администрация на изпълнителната власт',
      'NAMRB': 'Примерни модели за административни структури на седем групи общини и проекти на документи за организационното им развитие',
      'consulting_services': 'Подобряване на ефективността и оптимизиране на структурата на администрацията на Министерството на външните работи',
      'organizational': 'Организационна оценка и планиране на подобрения',
      'analyze': 'Консолидиран анализ на организационното състояние на Министерство на отбраната',
      'actual_standarts': 'Актуализирани стандарти за провеждане на граждански консултации',
      'nfk': 'Анализ и оценка на въздействието на действащото законодателство за НФК',
      'impact_assessment': 'Цялостна предварителна оценка на въздействието във връзка с регулиране на основни икономически сектори',
      'preliminary': 'Цялостна предварителна оценка на въздействието във връзка с регулиране на основни икономически сектори',
      'org_model': 'Нов организационен модел на НСОРБ',
      'functional_analyze': 'Функционални анализи',
      'action_plan': 'План за оценка на програма за морско дело, рибарство и аквакултури',
      'elec_networks': 'Социалноикономически анализ и обобщен доклад с резултати от проект „Опазване на застрашени видове птици чрез обезопасяване на опасни за тях въздушни електропроводи в защитени зони от НАТУРА 2000 в Западна България/ LIFE BIRDS ON POWER LINES“',
      'strategic': 'Последваща оценка за изпълнението на Националната стратегия за регионално развитие за периода 2012-2022 г.',
      'reg_plans': 'Последваща оценка за изпълнението на Националната стратегия за регионално развитие за периода 2012-2022 г.',
    },
    bg: {
      'home': 'Начало',
      'sectors': 'Сектори',
      'aboutUs': 'За нас',
      'offer': 'Какво предлагаме',
      'new': 'Новости',
      'blog': 'Блог',
      'contact': 'Контакт',
      'structural_reform': 'Оценка на организационния модел на централната администрация на изпълнителната власт',
      'NAMRB': 'Примерни модели за административни структури на седем групи общини и проекти на документи за организационното им развитие',
      'consulting_services': 'Подобряване на ефективността и оптимизиране на структурата на администрацията на Министерството на външните работи',
      'organizational': 'Организационна оценка и планиране на подобрения',
      'analyze': 'Консолидиран анализ на организационното състояние на Министерство на отбраната',
      'actual_standarts': 'Актуализирани стандарти за провеждане на граждански консултации',
      'nfk': 'Анализ и оценка на въздействието на действащото законодателство за НФК',
      'impact_assessment': 'Цялостна предварителна оценка на въздействието във връзка с регулиране на основни икономически сектори',
      'preliminary': 'Цялостна предварителна оценка на въздействието във връзка с регулиране на основни икономически сектори',
      'org_model': 'Нов организационен модел на НСОРБ',
      'functional_analyze': 'Функционални анализи',
      'action_plan': 'План за оценка на програма за морско дело, рибарство и аквакултури',
      'elec_networks': 'Социалноикономически анализ и обобщен доклад с резултати от проект „Опазване на застрашени видове птици чрез обезопасяване на опасни за тях въздушни електропроводи в защитени зони от НАТУРА 2000 в Западна България/ LIFE BIRDS ON POWER LINES“',
      'strategic': 'Последваща оценка за изпълнението на националната стратегия за регионално развитие за периода 2012-2022 г.',
      'reg_plans': 'Последващи оценки на регионалните планове за развитие (РПР) 2014 – 2020 г.',
      'integrated_dev': 'Планове за интегрирано развитие на общини за периода 2021-2027',
    }
  };

 const lang = 'bg'; // 'en' or 'bg' as needed

  // breadcrumb trails for each page
  const breadcrumbMap = {
    'index.html': ['home'],
    'aboutUs.html': ['home', 'aboutUs'],
    'offer.html': ['home', 'offer'],
    'new.html': ['home', 'new'],
    'blog.html': ['home', 'blog'],
    'sectors.html': ['home', 'sectors'],
    'structural_reform.html': ['home', 'sectors', 'structural_reform'],
    'NAMRB.html': ['home', 'sectors', 'NAMRB'],
    'consulting_services.html': ['home', 'offer', 'consulting_services'],
    'organizational.html': ['home', 'sectors', 'organizational'],
    'analyze.html': ['home', 'offer', 'analyze'],
    'actual_standarts.html': ['home', 'offer', 'actual_standarts'],
    'nfk.html': ['home', 'offer', 'nfk'],
    'impact_assessment.html': ['home', 'offer', 'impact_assessment'],
    'preliminary.html': ['home', 'offer', 'preliminary'],
    'org_model.html': ['home', 'offer', 'org_model'],
    'functional_analyze.html': ['home', 'offer', 'functional_analyze'],
    'action_plan.html': ['home', 'offer', 'action_plan'],
    'elec_networks.html': ['home', 'sectors', 'elec_networks'],
    'strategic.html': ['home', 'offer', 'strategic'],
    'reg_plans.html': ['home', 'offer', 'reg_plans'],
    'integrated_dev.html': ['home', 'offer', 'integrated_dev'],
  };
  
// Shorten text function
// function shortenText(text, maxLength = 100) {
//   if (text.length > maxLength) {
//     return text.slice(0, maxLength - 5) + '…';
//   }
//   return text;
// }

  const currentPath = window.location.pathname.split('/').pop();
  const trail = breadcrumbMap[currentPath];
  const breadcrumb = document.getElementById('breadcrumb');
  let html = `<ol class="breadcrumb-list">`; 

  if (trail && trail.length > 0) {
    trail.forEach((key, index) => {
      const label = translations[lang][key] || key;
      const isLast = index === trail.length - 1;
      // const shortened = shortenText(label, 100);

      const hrefMap = {
        home: 'index.html',
        offer:'offer.html',
        sectors: 'sectors.html',
        structural_reform: 'structural_reform.html',
        NAMRB: 'NAMRB.html',
        consulting_services: 'consulting_services.html',
        organizational: 'organizational.html',
        analyze: 'analyze.html',
        actual_standarts: 'actual_standarts.html',
        nfk: 'nfk.html',
        impact_assessment: 'impact_assessment.html',
        preliminary: 'preliminary.html',
        org_model: 'org_model.html',
        functional_analyze: 'org_model.html',
        action_plan: 'action_plan.html',
        elec_networks: 'elec_networks.html',
        strategic: 'strategic.html',
        reg_plans: 'reg_plans.html',
        integrated_dev: 'integrated_dev.html'
      };

      if (isLast) {
         html += `<li aria-current="page" class="truncate" title="${label}">${label}</li>`;
      } else {
      html += `<li><a href="${hrefMap[key]}" class="truncate" title="${label}">${label}</a></li>`;
      }
    });
  }

  html += `</ol>`;
  breadcrumb.innerHTML = html;

  //---END 